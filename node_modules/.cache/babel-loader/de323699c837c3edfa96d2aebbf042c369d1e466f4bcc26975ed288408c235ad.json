{"ast":null,"code":"import _objectSpread from\"D:/REACT/mapStars/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"D:/REACT/mapStars/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/REACT/mapStars/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/REACT/mapStars/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{useForm}from'react-hook-form';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faXmark}from'@fortawesome/free-solid-svg-icons';import'./GetStartedDialog.scss';import{useTranslation}from'react-i18next';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var GetStartedDialog=function GetStartedDialog(_ref){var closeDialog=_ref.closeDialog;var _useForm=useForm({mode:'onBlur'}),register=_useForm.register,handleSubmit=_useForm.handleSubmit,getValues=_useForm.getValues,reset=_useForm.reset,_useForm$formState=_useForm.formState,errors=_useForm$formState.errors,isValid=_useForm$formState.isValid;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isAccept=_useState2[0],setIsAccept=_useState2[1];var _useTranslation=useTranslation(),t=_useTranslation.t;var onSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:data={name:getValues('name'),email:getValues('email'),message:getValues('message'),id:+new Date()};_context.prev=1;_context.next=4;return axios.post(\"http://localhost:4000/send_mail\",{data:data});case 4:_context.next=9;break;case 6:_context.prev=6;_context.t0=_context[\"catch\"](1);console.error(_context.t0);case 9:setIsAccept(true);reset();setTimeout(function(){setIsAccept(false);},3000);case 12:case\"end\":return _context.stop();}},_callee,null,[[1,6]]);}));return function onSubmit(){return _ref2.apply(this,arguments);};}();// send Message to API //\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"GetStartedDialog\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"GetStartedDialog__close\",onClick:function onClick(){return closeDialog();},children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faXmark})}),/*#__PURE__*/_jsx(\"p\",{className:\"GetStartedDialog__name\",children:t('getStarted.text1')}),/*#__PURE__*/_jsx(\"h2\",{className:\"GetStartedDialog__title\",children:t('getStarted.text2')}),/*#__PURE__*/_jsxs(\"form\",{className:\"GetStartedDialog__form\",onSubmit:handleSubmit(onSubmit),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"GetStartedDialog__formEl\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"GetStartedDialog__label\",children:/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"text\",className:\"GetStartedDialog__input\"},register('name',{required:'Field is mandatory',minLength:{value:2,message:'The minimum number of characters in the name is 2'},pattern:{message:'Please enter valid name'}})),{},{placeholder:\"First Name*\"}))}),/*#__PURE__*/_jsx(\"div\",{className:\"GetStartedDialog__errorBlock\",children:(errors===null||errors===void 0?void 0:errors.name)&&(errors===null||errors===void 0?void 0:errors.name.message)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"GetStartedDialog__formEl\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"GetStartedDialog__label\",children:/*#__PURE__*/_jsx(\"input\",_objectSpread({className:\"GetStartedDialog__input\",type:\"email\",placeholder:\"E-mail*\"},register('email',{required:'Field is mandatory',pattern:{value:/^[-\\w.]+@([A-z0-9][-A-z0-9]+\\.)+[A-z]{2,4}$/,message:'Please enter valid email'}})))}),/*#__PURE__*/_jsx(\"div\",{className:\"GetStartedDialog__errorBlock\",children:(errors===null||errors===void 0?void 0:errors.email)&&(errors===null||errors===void 0?void 0:errors.email.message)})]}),/*#__PURE__*/_jsx(\"div\",{className:\"GetStartedDialog__formEl\",children:/*#__PURE__*/_jsx(\"label\",{className:\"GetStartedDialog__label\",children:/*#__PURE__*/_jsx(\"textarea\",_objectSpread({className:\"GetStartedDialog__textArea\",placeholder:\"Message...\",name:\"message\"},register('message')))})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"GetStartedDialog__btn\",disabled:!isValid,children:t('getStarted.text3')})]}),isAccept&&/*#__PURE__*/_jsx(\"p\",{className:\"GetStartedDialog__accept\",children:t('getStarted.text4')})]});};","map":{"version":3,"names":["React","useState","useForm","FontAwesomeIcon","faXmark","useTranslation","axios","GetStartedDialog","closeDialog","mode","register","handleSubmit","getValues","reset","formState","errors","isValid","isAccept","setIsAccept","t","onSubmit","data","name","email","message","id","Date","post","console","error","setTimeout","required","minLength","value","pattern"],"sources":["D:/REACT/mapStars/frontend/src/components/GetStartedDialog/GetStartedDialog.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faXmark } from '@fortawesome/free-solid-svg-icons';\r\nimport PropTypes from 'prop-types';\r\nimport './GetStartedDialog.scss';\r\nimport { useTranslation } from 'react-i18next';\r\nimport axios from 'axios';\r\n\r\n\r\nexport const GetStartedDialog = ({ closeDialog }) => {\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    getValues,\r\n    reset,\r\n    formState: { errors, isValid },\r\n  } = useForm({\r\n    mode: 'onBlur',\r\n  });\r\n\r\n  const [isAccept, setIsAccept] = useState(false);\r\n\r\n  const { t } = useTranslation();\r\n\r\n  const onSubmit = async() => {\r\n    const data = {\r\n      name: getValues('name'),\r\n      email: getValues('email'),\r\n      message: getValues('message'),\r\n      id: +new Date()\r\n    };\r\n\r\n    try {\r\n      await axios.post(\"http://localhost:4000/send_mail\", {\r\n        data\r\n      })\r\n    } catch (error) {\r\n      console.error(error)\r\n    }\r\n\r\n    setIsAccept(true);\r\n    reset();\r\n    setTimeout(() => {\r\n      setIsAccept(false);\r\n    }, 3000);\r\n}\r\n    \r\n\r\n   // send Message to API //\r\n\r\n  return (\r\n    <div className=\"GetStartedDialog\">\r\n      <button\r\n        type=\"button\"\r\n        className=\"GetStartedDialog__close\"\r\n        onClick={() => closeDialog()}\r\n      >\r\n        <FontAwesomeIcon icon={faXmark} />\r\n      </button>\r\n      <p className=\"GetStartedDialog__name\">{t('getStarted.text1')}</p>\r\n      <h2 className=\"GetStartedDialog__title\">{t('getStarted.text2')}</h2>\r\n      <form\r\n        \r\n        className=\"GetStartedDialog__form\"\r\n        onSubmit={handleSubmit(onSubmit)}\r\n      >\r\n        <div className=\"GetStartedDialog__formEl\">\r\n          <label className=\"GetStartedDialog__label\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"GetStartedDialog__input\"\r\n              {...register('name', {\r\n                required: 'Field is mandatory',\r\n                minLength: {\r\n                  value: 2,\r\n                  message: 'The minimum number of characters in the name is 2',\r\n                },\r\n                pattern: {\r\n                  message: 'Please enter valid name',\r\n                },\r\n              })}\r\n              placeholder=\"First Name*\"\r\n            />\r\n          </label>\r\n          <div className=\"GetStartedDialog__errorBlock\">\r\n            {errors?.name && (\r\n              errors?.name.message\r\n            )}\r\n          </div>\r\n        </div>\r\n        <div className=\"GetStartedDialog__formEl\">\r\n          <label className=\"GetStartedDialog__label\">\r\n            <input\r\n              className=\"GetStartedDialog__input\"\r\n              type=\"email\"\r\n              placeholder=\"E-mail*\"\r\n              {...register('email', {\r\n                required: 'Field is mandatory',\r\n                pattern: {\r\n                  value: /^[-\\w.]+@([A-z0-9][-A-z0-9]+\\.)+[A-z]{2,4}$/,\r\n                  message: 'Please enter valid email',\r\n                },\r\n              })}\r\n            />\r\n          </label>\r\n          <div className=\"GetStartedDialog__errorBlock\">\r\n            {errors?.email && (\r\n              errors?.email.message\r\n            )}\r\n          </div>\r\n        </div>\r\n        <div className=\"GetStartedDialog__formEl\">\r\n          <label className=\"GetStartedDialog__label\">\r\n            <textarea\r\n              className=\"GetStartedDialog__textArea\"\r\n              placeholder=\"Message...\"\r\n              name=\"message\"\r\n              {...register('message')}\r\n            />\r\n          </label>\r\n        </div>\r\n        <button\r\n          type=\"submit\"\r\n          className=\"GetStartedDialog__btn\"\r\n          disabled={!isValid}\r\n        >\r\n          {t('getStarted.text3')}\r\n        </button>\r\n      </form>\r\n      {isAccept && (\r\n        <p className=\"GetStartedDialog__accept\">\r\n          {t('getStarted.text4')}\r\n        </p>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nGetStartedDialog.propTypes = {\r\n  closeDialog: PropTypes.func.isRequired,\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}